<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>ITパスポート 過去問トレーナー（2025r07）</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    :root{
      --bg:#0f1115; --panel:#151924; --accent:#4cc9f0; --ok:#4caf50; --ng:#ef5350; --muted:#99a2b2; --text:#e6eaf2;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0f1115,#0d1220);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    a{color:var(--accent)}
    .wrap{max-width:980px;margin:0 auto;padding:24px}
    .card{background:var(--panel);border:1px solid #1f2533;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .pad{padding:20px}
    h1{font-size:22px;margin:0 0 12px}
    h2{font-size:18px;margin:0 0 10px}
    .row{display:flex;gap:14px;flex-wrap:wrap}
    .col{flex:1 1 240px}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:12px 16px;border:1px solid #283044;border-radius:12px;background:#1a2130;color:var(--text);cursor:pointer;font-weight:600}
    .btn:hover{border-color:#34405a}
    .btn[disabled]{opacity:.5;cursor:not-allowed}
    .btn-primary{background:linear-gradient(180deg,#1c2a46,#15233c);border-color:#2d3a55}
    .btn-accent{background:linear-gradient(180deg,#13364a,#0f2e42);border-color:#1f546c;color:#bfeaff}
    .btn-ghost{background:transparent}
    .answers{display:grid;gap:12px}
    @media(min-width:640px){.answers{grid-template-columns:1fr 1fr}}
    .opt{padding:14px;border:1px solid #2a3347;border-radius:12px;background:#172033;cursor:pointer;text-align:left}
    .opt:hover{border-color:#3a4664}
    .opt.correct{border-color:var(--ok);background:rgba(76,175,80,.08)}
    .opt.wrong{border-color:var(--ng);background:rgba(239,83,80,.08)}
    .opt.disabled{opacity:.7;pointer-events:none}
    .kana{display:inline-block;min-width:2ch;text-align:center;margin-right:.5rem;color:#b8c2d8}
    .muted{color:var(--muted)}
    .bar{height:10px;background:#222a3a;border-radius:999px;overflow:hidden}
    .bar>i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#8bd7ff);width:0%}
    .footer{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:16px}
    .chip{display:inline-flex;gap:.4rem;align-items:center;padding:6px 10px;border:1px solid #2a3246;border-radius:999px;background:#121829}
    .kbd{font-family:ui-monospace,Menlo,Consolas,monospace;border:1px solid #3a4563;border-radius:6px;padding:1px 6px;background:#0f1423;color:#c7d2ee}
    .list{margin:0;padding-left:18px}
    .s{opacity:.85}
    .tag{display:inline-block;padding:2px 8px;border:1px solid #32405a;border-radius:999px;margin-left:.5rem;font-size:12px;color:#b7c5df}
    .warn{color:#ffb4b4}
    .ok{color:#b7ffb7}
    .split{display:flex;gap:14px;flex-wrap:wrap}
    .split>.grow{flex:1 1 520px}
    .split>.side{flex:1 1 260px}
    .hide{display:none}
    .small{font-size:13px}
    .hr{height:1px;background:#262d40;margin:12px 0}
  </style>
</head>
<body>
<div class="wrap">
  <div class="card pad" id="screen-start">
    <h1>ITパスポート 過去問トレーナー <span class="tag">2025r07 OCR</span></h1>
    <p class="muted s">データ：<code>data/itpassport_2025r07.json</code>（OCR抽出。欠損は順次補完）</p>
    <div class="row">
      <div class="col">
        <h2>出題モード</h2>
        <label><input type="radio" name="mode" value="train" checked> 学習（その場採点）</label><br>
        <label><input type="radio" name="mode" value="exam"> 模試（最後に採点）</label>
      </div>
      <div class="col">
        <h2>出題数</h2>
        <select id="countSel">
          <option value="10">10問</option>
          <option value="20" selected>20問</option>
          <option value="30">30問</option>
          <option value="50">50問</option>
          <option value="all">全件</option>
        </select>
      </div>
      <div class="col">
        <h2>出題順</h2>
        <label><input type="radio" name="order" value="random" checked> ランダム</label><br>
        <label><input type="radio" name="order" value="asc"> 昇順</label>
      </div>
      <div class="col">
        <h2>オプション</h2>
        <label><input type="checkbox" id="autoNext" checked> 正解で自動次へ</label><br>
        <label><input type="checkbox" id="includeStubs"> 解答のみの問題も含める</label><br>
        <label class="small muted">ショートカット：<span class="kbd">1–4</span> 解答 / <span class="kbd">N</span> 次 / <span class="kbd">B</span> 戻</label>
      </div>
    </div>
    <div class="hr"></div>
    <div class="row">
      <div class="col"><button class="btn btn-primary" id="btnStart">開始する</button></div>
      <div class="col"><button class="btn btn-ghost" id="btnReload">データ再読込</button></div>
    </div>
    <div class="hr"></div>
    <div class="small muted" id="datasetInfo">読み込み中…</div>
  </div>

  <div class="card pad hide" id="screen-quiz">
    <div class="split">
      <div class="grow">
        <div class="footer">
          <div><strong id="titleNum">問-</strong> / <span id="totalNum">-</span>　<span class="tag" id="modeTag">TRAIN</span></div>
          <div class="chip"><span id="timer">--:--</span></div>
        </div>
        <div class="bar" style="margin:10px 0 16px"><i id="bar"></i></div>
        <div id="qText" style="font-size:18px;margin:8px 0 12px;white-space:pre-wrap"></div>
        <div class="answers" id="answers"></div>
        <div id="explain" class="small muted" style="margin-top:10px"></div>
        <div class="footer">
          <div class="row" style="gap:8px">
            <button class="btn" id="prevBtn" title="B">← 戻る</button>
            <button class="btn btn-accent" id="revealBtn">解答を表示</button>
            <button class="btn" id="skipBtn">スキップ</button>
            <button class="btn btn-primary" id="nextBtn" title="N">次へ →</button>
          </div>
          <div class="muted small">正解：<span class="ok" id="statOk">0</span>　不正解：<span class="warn" id="statNg">0</span></div>
        </div>
      </div>
      <div class="side">
        <h2 style="margin-top:0">ナビ</h2>
        <div id="nav" class="small" style="display:grid;grid-template-columns:repeat(5,1fr);gap:6px"></div>
        <div class="hr"></div>
        <button class="btn btn-ghost" id="btnFinish">採点する（模試）/ 終了</button>
        <div class="small muted" style="margin-top:8px">未回答は灰、正解は緑、不正解は赤。</div>
      </div>
    </div>
  </div>

  <div class="card pad hide" id="screen-result">
    <h1>結果</h1>
    <p><strong id="scoreText">-</strong>　<span class="muted">所要：<span id="elapsedText">-</span></span></p>
    <div class="row" style="margin:10px 0 16px">
      <button class="btn btn-primary" id="retryWrong">不正解だけ復習</button>
      <button class="btn" id="retryAll">もう一度はじめる</button>
      <button class="btn" id="exportCsv">CSVを書き出し</button>
      <button class="btn btn-ghost" id="backHome">設定に戻る</button>
    </div>
    <div id="review"></div>
  </div>
</div>

<script>
const DATA_URL = './data/itpassport_2025r07.json'; // ここを必要に応じて変更
const KANA = ['ア','イ','ウ','エ'];

let RAW = [];  // 全問題
let POOL = []; // 出題対象
let ORDER = [];
let CUR = 0;
let MODE = 'train';
let AUTONEXT = true;
let INCLUDE_STUBS = false;
let START_TIME = 0;
let TIMER_ID = null;

const $ = s => document.querySelector(s);
const $$ = s => Array.from(document.querySelectorAll(s));

function fmtTime(sec){ const s=Math.max(0,Math.floor(sec)); const m=String(Math.floor(s/60)).padStart(2,'0'); const r=String(s%60).padStart(2,'0'); return `${m}:${r}`; }
function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]];} return a; }

async function loadData(){
  $('#datasetInfo').textContent = '読み込み中…';
  try{
    const res = await fetch(DATA_URL,{cache:'no-store'});
    if(!res.ok) throw new Error(res.status+' '+res.statusText);
    const data = await res.json();
    RAW = (data.questions||[]).map(q=>({...q, selected:null, result:null, seen:false}));
    const full = RAW.filter(q => q.question && q.choices && q.choices.length===4 && Number.isInteger(q.answer_index));
    const stub = RAW.filter(q => !(q.question && q.choices && q.choices.length===4));
    $('#datasetInfo').innerHTML = `問題総数：<strong>${RAW.length}</strong>　完全抽出：<strong>${full.length}</strong>　スタブ：<strong>${stub.length}</strong>`;
  }catch(e){
    $('#datasetInfo').innerHTML = `読み込み失敗：<span class="warn">${e.message}</span><br>パス <code>${DATA_URL}</code> と公開状態をご確認ください。`;
  }
}
loadData();
$('#btnReload').addEventListener('click', loadData);

$('#btnStart').addEventListener('click', () => {
  MODE = $$('input[name="mode"]').find(r=>r.checked)?.value || 'train';
  AUTONEXT = $('#autoNext').checked;
  INCLUDE_STUBS = $('#includeStubs').checked;

  const full = RAW.filter(q => q.question && q.choices && q.choices.length===4 && Number.isInteger(q.answer_index));
  const stubs = RAW.filter(q => !(q.question && q.choices && q.choices.length===4));
  POOL = INCLUDE_STUBS ? [...full, ...stubs] : full;

  if(POOL.length===0){ alert('出題できる問題がありません。JSON配置を確認してください。'); return; }

  const orderSel = $$( 'input[name="order"]').find(r=>r.checked)?.value || 'random';
  ORDER = [...Array(POOL.length).keys()];
  if(orderSel==='random') shuffle(ORDER);

  const cnt = $('#countSel').value;
  if(cnt!=='all') ORDER = ORDER.slice(0, Math.min(parseInt(cnt,10), ORDER.length));

  POOL.forEach(q=>{ q.selected=null; q.result=null; q.seen=false; });
  CUR = 0; START_TIME = Date.now(); startTimer();

  $('#screen-start').classList.add('hide');
  $('#screen-result').classList.add('hide');
  $('#screen-quiz').classList.remove('hide');
  $('#modeTag').textContent = MODE.toUpperCase();

  renderQuestion(); renderNav();
});

function startTimer(){ clearInterval(TIMER_ID); TIMER_ID = setInterval(()=>$('#timer').textContent = fmtTime((Date.now()-START_TIME)/1000), 500); }

function renderQuestion(){
  const idx = ORDER[CUR], q = POOL[idx];
  $('#titleNum').textContent = `問${q.number ?? (idx+1)}`;
  $('#totalNum').textContent = ORDER.length;
  $('#bar').style.width = `${((CUR)/Math.max(1,ORDER.length-1))*100}%`;

  const disabled = !!(q.result!==null || MODE==='exam');
  $('#qText').textContent = q.question ? q.question : '（本文未抽出：解答のみ保持のスタブ問題）';

  const answersEl = $('#answers'); answersEl.innerHTML='';
  if(q.choices && q.choices.length===4){
    q.choices.forEach((text,i)=>{
      const btn = document.createElement('button');
      btn.className = 'opt';
      btn.dataset.index = i;
      btn.innerHTML = `<span class="kana">${KANA[i]}</span>${escapeHtml(text)}`;
      if(disabled && q.selected===null) btn.classList.add('disabled');
      if(q.result!==null){
        if(i===q.answer_index) btn.classList.add('correct');
        if(q.selected===i && !q.result) btn.classList.add('wrong');
      }
      btn.addEventListener('click',()=>selectChoice(i));
      answersEl.appendChild(btn);
    });
  }else{
    const stub = document.createElement('div');
    stub.className='muted';
    stub.textContent='選択肢未収録のため、この設問は採点対象外です。';
    answersEl.appendChild(stub);
  }

  $('#explain').textContent = q.explanation ? `解説：${q.explanation}` : '';
  $('#prevBtn').disabled = CUR===0;
  $('#nextBtn').disabled = CUR>=ORDER.length-1;
  $('#revealBtn').disabled = !(MODE==='exam' && q.choices && Number.isInteger(q.answer_index));
  $('#skipBtn').disabled = false;

  const ok = POOL.filter(x=>x.result===true).length;
  const ng = POOL.filter(x=>x.result===false).length;
  $('#statOk').textContent = ok; $('#statNg').textContent = ng;
  q.seen=true;
}

function selectChoice(i){
  const idx = ORDER[CUR], q = POOL[idx];
  if(!q.choices || !Number.isInteger(q.answer_index)) return;
  if(MODE==='exam'){
    q.selected = i; renderNav();
    if(CUR<ORDER.length-1){ CUR++; renderQuestion(); }
    return;
  }
  q.selected = i; q.result = (i===q.answer_index);
  renderQuestion(); renderNav();
  if(AUTONEXT && q.result && CUR<ORDER.length-1){ setTimeout(()=>{ CUR++; renderQuestion(); }, 150); }
}

$('#prevBtn').addEventListener('click', ()=>{ if(CUR>0){ CUR--; renderQuestion(); }});
$('#nextBtn').addEventListener('click', ()=>{ if(CUR<ORDER.length-1){ CUR++; renderQuestion(); }});
$('#skipBtn').addEventListener('click', ()=>{ if(CUR<ORDER.length-1){ CUR++; renderQuestion(); }});
$('#revealBtn').addEventListener('click', ()=>{
  const idx = ORDER[CUR], q = POOL[idx];
  if(!q.choices || !Number.isInteger(q.answer_index)) return;
  if(q.selected==null){ alert('まずどれか選択してください。'); return; }
  q.result = (q.selected===q.answer_index);
  renderQuestion(); renderNav();
});
$('#btnFinish').addEventListener('click', finish);

function finish(){
  clearInterval(TIMER_ID);
  if(MODE==='exam'){
    for(const q of POOL){
      if(q.choices && Number.isInteger(q.answer_index) && q.selected!=null){
        q.result = (q.selected===q.answer_index);
      }
    }
  }
  $('#screen-quiz').classList.add('hide');
  $('#screen-result').classList.remove('hide');

  const ok = POOL.filter(x=>x.result===true).length;
  const count = POOL.filter(x=>x.choices && Number.isInteger(x.answer_index)).length;
  $('#scoreText').textContent = `正解 ${ok} / ${count}（${Math.round(ok/count*100)||0}%）`;
  $('#elapsedText').textContent = fmtTime((Date.now()-START_TIME)/1000);

  const wrongs = POOL.filter(x=>x.result===false).map(x=>({num:x.number ?? '-', q:x.question || '（本文なし）', ans:x.answer_index, sel:x.selected}));
  const container = $('#review'); container.innerHTML='';
  if(wrongs.length===0){ container.innerHTML = '<p class="ok">全問正解！</p>'; }
  else{
    const ol = document.createElement('ol'); ol.className='list';
    wrongs.forEach(w=>{
      const li = document.createElement('li');
      const ck = w.ans!=null ? KANA[w.ans] : '-';
      const sk = w.sel!=null ? KANA[w.sel] : '-';
      li.innerHTML = `<strong>問${w.num}</strong>　<small class="muted">正解:${ck} / 回答:${sk}</small><br>${escapeHtml(w.q)}`;
      ol.appendChild(li);
    });
    container.appendChild(ol);
  }
}

$('#retryWrong').addEventListener('click', ()=>{
  const wrongIdx = ORDER.filter(i => { const q=POOL[i]; return q.result===false && q.choices && Number.isInteger(q.answer_index); });
  if(wrongIdx.length===0){ alert('不正解がありません。'); return; }
  ORDER = wrongIdx; ORDER.forEach(i=>{ POOL[i].selected=null; POOL[i].result=null; });
  CUR=0; START_TIME=Date.now(); startTimer();
  $('#screen-result').classList.add('hide'); $('#screen-quiz').classList.remove('hide');
  renderQuestion(); renderNav();
});

$('#retryAll').addEventListener('click', ()=>{ $('#screen-result').classList.add('hide'); $('#screen-start').classList.remove('hide'); });
$('#exportCsv').addEventListener('click', ()=>{
  const rows = [['number','selectedKana','correctKana','result']];
  ORDER.forEach(i=>{
    const q=POOL[i];
    const sel = q.selected!=null ? KANA[q.selected] : '';
    const cor = Number.isInteger(q.answer_index) ? KANA[q.answer_index] : '';
    const res = q.result==null ? '' : (q.result?'OK':'NG');
    rows.push([q.number, sel, cor, res]);
  });
  const csv = rows.map(r=>r.map(s=>`"${String(s??'').replace(/"/g,'""')}"`).join(',')).join('\n');
  const blob = new Blob([csv],{type:'text/csv'});
  const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='itpassport_result.csv'; a.click(); URL.revokeObjectURL(a.href);
});
$('#backHome').addEventListener('click', ()=>{ $('#screen-result').classList.add('hide'); $('#screen-start').classList.remove('hide'); });

function renderNav(){
  const nav=$('#nav'); nav.innerHTML='';
  ORDER.forEach((i,idx)=>{
    const q=POOL[i]; const b=document.createElement('button');
    b.className='btn small'; b.style.padding='6px'; b.textContent = q.number ?? (i+1);
    if(q.result===true){ b.style.borderColor='#2e7d32'; b.style.background='rgba(46,125,50,.15)'; }
    else if(q.result===false){ b.style.borderColor='#b23a3a'; b.style.background='rgba(178,58,58,.12)'; }
    else if(q.selected!=null){ b.style.borderColor='#3a4a6b'; } else { b.style.opacity='.75'; }
    if(idx===CUR){ b.style.outline='2px solid var(--accent)'; }
    b.addEventListener('click',()=>{ CUR=idx; renderQuestion(); });
    nav.appendChild(b);
  });
}

window.addEventListener('keydown', (e)=>{
  if($('#screen-quiz').classList.contains('hide')) return;
  if(e.key>='1' && e.key<='4'){
    const i = parseInt(e.key,10)-1;
    const idx = ORDER[CUR]; const q = POOL[idx];
    if(q.choices && Number.isInteger(q.answer_index)) selectChoice(i);
  }else if(e.key==='n' || e.key==='N'){
    if(CUR<ORDER.length-1){ CUR++; renderQuestion(); }
  }else if(e.key==='b' || e.key==='B'){
    if(CUR>0){ CUR--; renderQuestion(); }
  }
});

function escapeHtml(s){ return String(s??'').replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }
</script>
</body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.4">
  <style type="text/css">
    span.s1 {font-kerning: none}
  </style>
</head>
<body>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>&lt;!doctype html&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>&lt;html lang="ja"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>&lt;head&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>&lt;meta charset="utf-8"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>&lt;title&gt;ITパスポート 過去問トレーナー（2025r07）&lt;/title&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>&lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>&lt;style&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>:root{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>--bg:#0f1115; --panel:#151924; --accent:#4cc9f0; --ok:#4caf50; --ng:#ef5350; --muted:#99a2b2; --text:#e6eaf2;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>*{box-sizing:border-box}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>body{margin:0;background:linear-gradient(180deg,#0f1115,#0d1220);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>a{color:var(--accent)}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.wrap{max-width:980px;margin:0 auto;padding:24px}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.card{background:var(--panel);border:1px solid #1f2533;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,.25)}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.pad{padding:20px}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>h1{font-size:22px;margin:0 0 12px}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>h2{font-size:18px;margin:0 0 10px}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.row{display:flex;gap:14px;flex-wrap:wrap}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.col{flex:1 1 240px}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:12px 16px;border:1px solid #283044;border-radius:12px;background:#1a2130;color:var(--text);cursor:pointer;font-weight:600}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.btn:hover{border-color:#34405a}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.btn[disabled]{opacity:.5;cursor:not-allowed}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.btn-primary{background:linear-gradient(180deg,#1c2a46,#15233c);border-color:#2d3a55}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.btn-accent{background:linear-gradient(180deg,#13364a,#0f2e42);border-color:#1f546c;color:#bfeaff}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.btn-ghost{background:transparent}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.answers{display:grid;gap:12px}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>@media(min-width:640px){.answers{grid-template-columns:1fr 1fr}}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.opt{padding:14px;border:1px solid #2a3347;border-radius:12px;background:#172033;cursor:pointer;text-align:left}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.opt:hover{border-color:#3a4664}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.opt.correct{border-color:var(--ok);background:rgba(76,175,80,.08)}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.opt.wrong{border-color:var(--ng);background:rgba(239,83,80,.08)}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.opt.disabled{opacity:.7;pointer-events:none}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.kana{display:inline-block;min-width:2ch;text-align:center;margin-right:.5rem;color:#b8c2d8}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.muted{color:var(--muted)}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.bar{height:10px;background:#222a3a;border-radius:999px;overflow:hidden}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.bar&gt;i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#8bd7ff);width:0%}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.footer{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:16px}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.chip{display:inline-flex;gap:.4rem;align-items:center;padding:6px 10px;border:1px solid #2a3246;border-radius:999px;background:#121829}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.kbd{font-family:ui-monospace,Menlo,Consolas,monospace;border:1px solid #3a4563;border-radius:6px;padding:1px 6px;background:#0f1423;color:#c7d2ee}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.list{margin:0;padding-left:18px}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.s{opacity:.85}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.tag{display:inline-block;padding:2px 8px;border:1px solid #32405a;border-radius:999px;margin-left:.5rem;font-size:12px;color:#b7c5df}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.warn{color:#ffb4b4}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.ok{color:#b7ffb7}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.split{display:flex;gap:14px;flex-wrap:wrap}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.split&gt;.grow{flex:1 1 520px}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.split&gt;.side{flex:1 1 260px}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.hide{display:none}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.small{font-size:13px}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.hr{height:1px;background:#262d40;margin:12px 0}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>&lt;/style&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>&lt;/head&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>&lt;body&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>&lt;div class="wrap"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>&lt;div class="card pad" id="screen-start"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;h1&gt;ITパスポート 過去問トレーナー &lt;span class="tag"&gt;2025r07 OCR&lt;/span&gt;&lt;/h1&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;p class="muted s"&gt;提供データ：&lt;code&gt;data/itpassport_2025r07.json&lt;/code&gt;（OCR自動抽出。欠損は順次補完）&lt;/p&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;div class="row"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;div class="col"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;h2&gt;出題モード&lt;/h2&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;label&gt;&lt;input type="radio" name="mode" value="train" checked&gt; 学習（その場採点・即フィードバック）&lt;/label&gt;&lt;br&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;label&gt;&lt;input type="radio" name="mode" value="exam"&gt; 模試（最後に採点・タイマー）&lt;/label&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;div class="col"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;h2&gt;出題数&lt;/h2&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;select id="countSel"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">          </span>&lt;option value="10"&gt;10問&lt;/option&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">          </span>&lt;option value="20" selected&gt;20問&lt;/option&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">          </span>&lt;option value="30"&gt;30問&lt;/option&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">          </span>&lt;option value="50"&gt;50問&lt;/option&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">          </span>&lt;option value="all"&gt;全件&lt;/option&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;/select&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;div class="col"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;h2&gt;出題順&lt;/h2&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;label&gt;&lt;input type="radio" name="order" value="random" checked&gt; ランダム&lt;/label&gt;&lt;br&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;label&gt;&lt;input type="radio" name="order" value="asc"&gt; 昇順（問1→）&lt;/label&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;div class="col"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;h2&gt;オプション&lt;/h2&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;label&gt;&lt;input type="checkbox" id="autoNext" checked&gt; 学習で正解時に自動で次へ&lt;/label&gt;&lt;br&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;label&gt;&lt;input type="checkbox" id="includeStubs"&gt; 解答のみの問題も含める &lt;span class="tag"&gt;上級&lt;/span&gt;&lt;/label&gt;&lt;br&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;label class="small muted"&gt;キーボード：&lt;span class="kbd"&gt;1-4&lt;/span&gt; 解答 / &lt;span class="kbd"&gt;N&lt;/span&gt; 次へ / &lt;span class="kbd"&gt;B&lt;/span&gt; 戻る&lt;/label&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;div class="hr"&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;div class="row"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;div class="col"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;button class="btn btn-primary" id="btnStart"&gt;開始する&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;div class="col"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;button class="btn btn-ghost" id="btnReload"&gt;データ再読込&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;div class="hr"&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;div class="small muted" id="datasetInfo"&gt;読み込み中…&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>&lt;div class="card pad hide" id="screen-quiz"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;div class="split"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;div class="grow"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;div class="footer"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">          </span>&lt;div&gt;&lt;strong id="titleNum"&gt;問-&lt;/strong&gt; / &lt;span id="totalNum"&gt;-&lt;/span&gt;　&lt;span class="tag" id="modeTag"&gt;TRAIN&lt;/span&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">          </span>&lt;div class="chip"&gt;&lt;span id="timer"&gt;--:--&lt;/span&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;div class="bar" style="margin:10px 0 16px"&gt;&lt;i id="bar"&gt;&lt;/i&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;div id="qText" style="font-size:18px;margin:8px 0 12px;white-space:pre-wrap"&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;div class="answers" id="answers"&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;div id="explain" class="small muted" style="margin-top:10px"&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;div class="footer"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">          </span>&lt;div class="row" style="gap:8px"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">            </span>&lt;button class="btn" id="prevBtn" title="B"&gt;← 戻る&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">            </span>&lt;button class="btn btn-accent" id="revealBtn"&gt;解答を表示&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">            </span>&lt;button class="btn" id="skipBtn"&gt;スキップ&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">            </span>&lt;button class="btn btn-primary" id="nextBtn" title="N"&gt;次へ →&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">          </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">          </span>&lt;div class="muted small"&gt;正解：&lt;span class="ok" id="statOk"&gt;0&lt;/span&gt;　不正解：&lt;span class="warn" id="statNg"&gt;0&lt;/span&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;div class="side"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;h2 style="margin-top:0"&gt;ナビ&lt;/h2&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;div id="nav" class="small" style="display:grid;grid-template-columns:repeat(5,1fr);gap:6px"&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;div class="hr"&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;button class="btn btn-ghost" id="btnFinish"&gt;採点する（模試）/ 終了&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>&lt;div class="small muted" style="margin-top:8px"&gt;未回答は灰色、正解は緑、不正解は赤で表示されます。&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>&lt;div class="card pad hide" id="screen-result"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;h1&gt;結果&lt;/h1&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;p&gt;&lt;strong id="scoreText"&gt;-&lt;/strong&gt;　&lt;span class="muted"&gt;所要時間：&lt;span id="elapsedText"&gt;-&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;div class="row" style="margin:10px 0 16px"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;button class="btn btn-primary" id="retryWrong"&gt;不正解だけ復習&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;button class="btn" id="retryAll"&gt;もう一度はじめる&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;button class="btn" id="exportCsv"&gt;CSVを書き出し&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>&lt;button class="btn btn-ghost" id="backHome"&gt;設定に戻る&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;div id="review"&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>&lt;script&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>const DATA_URL = './data/itpassport_2025r07.json'; // ここを必要に応じて変更</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>const KANA = ['ア','イ','ウ','エ'];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>let RAW = [];<span class="Apple-converted-space">              </span>// JSONの全問題</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>let POOL = []; <span class="Apple-converted-space">            </span>// 出題対象（本文・選択肢あり or スタブ含む）</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>let ORDER = [];<span class="Apple-converted-space">            </span>// 出題順のインデックス</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>let CUR = 0; <span class="Apple-converted-space">              </span>// 現在位置（ORDERの添字）</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>let MODE = 'train';<span class="Apple-converted-space">        </span>// train | exam</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>let AUTONEXT = true;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>let INCLUDE_STUBS = false;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>let START_TIME = 0;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>let TIMER_ID = null;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>const $ = sel =&gt; document.querySelector(sel);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>const $$ = sel =&gt; Array.from(document.querySelectorAll(sel));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>function fmtTime(sec){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const s = Math.max(0, Math.floor(sec));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const m = Math.floor(s/60).toString().padStart(2,'0');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const r = (s%60).toString().padStart(2,'0');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>return `${m}:${r}`;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>function shuffle(arr){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>for(let i=arr.length-1;i&gt;0;i--){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const j = Math.floor(Math.random()*(i+1));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>[arr[i],arr[j]]=[arr[j],arr[i]];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>return arr;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>async function loadData(){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#datasetInfo').textContent = '読み込み中…';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>try{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const res = await fetch(DATA_URL,{cache:'no-store'});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>if(!res.ok) throw new Error(res.status+' '+res.statusText);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const data = await res.json();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>RAW = (data.questions||[]).map(q =&gt; ({</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>...q,</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>selected: null, <span class="Apple-converted-space">  </span>// ユーザー選択（0..3）</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>result: null, <span class="Apple-converted-space">    </span>// true/false/null</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>seen: false</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>}));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const full = RAW.filter(q =&gt; q.question &amp;&amp; q.choices &amp;&amp; q.choices.length===4 &amp;&amp; Number.isInteger(q.answer_index));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const stub = RAW.filter(q =&gt; !(q.question &amp;&amp; q.choices &amp;&amp; q.choices.length===4));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>$('#datasetInfo').innerHTML =</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>`問題総数：&lt;strong&gt;${RAW.length}&lt;/strong&gt;　完全抽出：&lt;strong&gt;${full.length}&lt;/strong&gt;　スタブ：&lt;strong&gt;${stub.length}&lt;/strong&gt;`;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}catch(e){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>$('#datasetInfo').innerHTML = `読み込み失敗：&lt;span class="warn"&gt;${e.message}&lt;/span&gt;&lt;br&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>パス &lt;code&gt;${DATA_URL}&lt;/code&gt; と CORS（GitHub Pages で公開されているか）をご確認ください。`;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>loadData();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>$('#btnReload').addEventListener('click', loadData);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>$('#btnStart').addEventListener('click', () =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>MODE = $$('input[name="mode"]').find(r=&gt;r.checked)?.value || 'train';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>AUTONEXT = $('#autoNext').checked;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>INCLUDE_STUBS = $('#includeStubs').checked;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const full = RAW.filter(q =&gt; q.question &amp;&amp; q.choices &amp;&amp; q.choices.length===4 &amp;&amp; Number.isInteger(q.answer_index));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const stubs = RAW.filter(q =&gt; !(q.question &amp;&amp; q.choices &amp;&amp; q.choices.length===4));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>POOL = INCLUDE_STUBS ? [...full, ...stubs] : full;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(POOL.length===0){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>alert('出題できる問題がありません。JSONの配置をご確認ください。');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>return;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const orderSel = $$('input[name="order"]').find(r=&gt;r.checked)?.value || 'random';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>ORDER = [...Array(POOL.length).keys()];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(orderSel==='random') shuffle(ORDER);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const countSel = $('#countSel').value;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(countSel!=='all') ORDER = ORDER.slice(0, Math.min(parseInt(countSel,10), ORDER.length));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>// リセット</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>POOL.forEach(q =&gt; { q.selected=null; q.result=null; q.seen=false; });</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>CUR = 0;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>START_TIME = Date.now();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>startTimer();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#screen-start').classList.add('hide');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#screen-result').classList.add('hide');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#screen-quiz').classList.remove('hide');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#modeTag').textContent = MODE.toUpperCase();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>renderQuestion();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>renderNav();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>function startTimer(){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>clearInterval(TIMER_ID);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>TIMER_ID = setInterval(()=&gt;{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const sec = (Date.now()-START_TIME)/1000;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>$('#timer').textContent = fmtTime(sec);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>},500);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>function renderQuestion(){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const idx = ORDER[CUR];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const q = POOL[idx];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#titleNum').textContent = `問${q.number ?? (idx+1)}`;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#totalNum').textContent = ORDER.length;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#bar').style.width = `${((CUR)/Math.max(1,ORDER.length-1))*100}%`;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const disabled = !!(q.result!==null || MODE==='exam'); // 模試中はロック（解答表示まで）</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const qText = q.question ? q.question : '（この問題はスタブです。本文は未抽出。解答のみ保持）';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#qText').textContent = qText;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const answersEl = $('#answers');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>answersEl.innerHTML = '';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(q.choices &amp;&amp; q.choices.length===4){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>q.choices.forEach((text,i)=&gt;{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>const btn = document.createElement('button');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>btn.className = 'opt';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>btn.dataset.index = i;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>btn.innerHTML = `&lt;span class="kana"&gt;${KANA[i]}&lt;/span&gt;${escapeHtml(text)}`;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>if(disabled &amp;&amp; q.selected===null) btn.classList.add('disabled');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>if(q.result!==null){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>if(i===q.answer_index) btn.classList.add('correct');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>if(q.selected===i &amp;&amp; !q.result) btn.classList.add('wrong');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>btn.addEventListener('click',()=&gt;selectChoice(i));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>answersEl.appendChild(btn);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}else{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const stub = document.createElement('div');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>stub.className='muted';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>stub.textContent='選択肢が未収録のため、この設問は採点対象外です。';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>answersEl.appendChild(stub);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#explain').textContent = q.explanation ? `解説：${q.explanation}` : '';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>// ボタン状態</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#prevBtn').disabled = CUR===0;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#nextBtn').disabled = CUR&gt;=ORDER.length-1;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#revealBtn').disabled = !(MODE==='exam' &amp;&amp; q.choices &amp;&amp; Number.isInteger(q.answer_index));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#skipBtn').disabled = false;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>// 統計</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const ok = POOL.filter(x=&gt;x.result===true).length;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const ng = POOL.filter(x=&gt;x.result===false).length;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#statOk').textContent = ok;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#statNg').textContent = ng;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>q.seen=true;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>function selectChoice(i){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const idx = ORDER[CUR];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const q = POOL[idx];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(!q.choices || !Number.isInteger(q.answer_index)) return;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(MODE==='exam'){ // 模試中は選択だけ記録（採点は最後）</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>q.selected = i;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>renderNav();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>if(CUR&lt;ORDER.length-1) { CUR++; renderQuestion(); }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>return;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>// 学習モード：即採点</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>q.selected = i;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>q.result = (i===q.answer_index);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>renderQuestion();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>renderNav();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(AUTONEXT &amp;&amp; q.result &amp;&amp; CUR&lt;ORDER.length-1){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>setTimeout(()=&gt;{ CUR++; renderQuestion(); }, 150);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>$('#prevBtn').addEventListener('click', ()=&gt;{ if(CUR&gt;0){ CUR--; renderQuestion(); }});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>$('#nextBtn').addEventListener('click', ()=&gt;{ if(CUR&lt;ORDER.length-1){ CUR++; renderQuestion(); }});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>$('#skipBtn').addEventListener('click', ()=&gt;{ if(CUR&lt;ORDER.length-1){ CUR++; renderQuestion(); }});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>$('#revealBtn').addEventListener('click', ()=&gt;{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>// 模試中に1問だけ答え合わせしたいとき</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const idx = ORDER[CUR];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const q = POOL[idx];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(!q.choices || !Number.isInteger(q.answer_index)) return;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(q.selected==null){ alert('まずどれか選択してください。'); return; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>q.result = (q.selected===q.answer_index);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>renderQuestion(); renderNav();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>$('#btnFinish').addEventListener('click', finish);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>function finish(){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>clearInterval(TIMER_ID);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>// 模試：採点</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(MODE==='exam'){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>for(const q of POOL){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>if(q.choices &amp;&amp; Number.isInteger(q.answer_index) &amp;&amp; q.selected!=null){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">        </span>q.result = (q.selected===q.answer_index);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>// 結果画面へ</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#screen-quiz').classList.add('hide');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#screen-result').classList.remove('hide');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const ok = POOL.filter(x=&gt;x.result===true).length;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const count = POOL.filter(x=&gt;x.choices &amp;&amp; Number.isInteger(x.answer_index)).length;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#scoreText').textContent = `正解 ${ok} / ${count}（${Math.round(ok/count*100)||0}%）`;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const sec = (Date.now()-START_TIME)/1000;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#elapsedText').textContent = fmtTime(sec);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>// 不正解一覧作成</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const wrongs = POOL</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.filter(x=&gt;x.result===false)</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>.map(x =&gt; ({</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>num: x.number ?? '-',</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>q: x.question || '（本文なし）',</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>ans: x.answer_index,</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>sel: x.selected</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>}));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const container = $('#review');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>container.innerHTML = '';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(wrongs.length===0){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>container.innerHTML = '&lt;p class="ok"&gt;全問正解！&lt;/p&gt;';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}else{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const ul = document.createElement('ol');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>ul.className='list';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>wrongs.forEach(w=&gt;{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>const li = document.createElement('li');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>const correctKana = w.ans!=null ? KANA[w.ans] : '-';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>const selKana = w.sel!=null ? KANA[w.sel] : '-';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>li.innerHTML = `&lt;strong&gt;問${w.num}&lt;/strong&gt;　&lt;small class="muted"&gt;正解:${correctKana} / 回答:${selKana}&lt;/small&gt;&lt;br&gt;${escapeHtml(w.q)}`;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">      </span>ul.appendChild(li);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>container.appendChild(ul);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>$('#retryWrong').addEventListener('click', ()=&gt;{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>// 不正解のみで再挑戦</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const wrongIdx = ORDER.filter(i =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const q = POOL[i];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>return q.result===false &amp;&amp; q.choices &amp;&amp; Number.isInteger(q.answer_index);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(wrongIdx.length===0){ alert('不正解がありません。'); return; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>ORDER = wrongIdx;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>ORDER.forEach(i =&gt; { POOL[i].selected=null; POOL[i].result=null; });</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>CUR = 0; START_TIME = Date.now(); startTimer();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#screen-result').classList.add('hide');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#screen-quiz').classList.remove('hide');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>renderQuestion(); renderNav();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>$('#retryAll').addEventListener('click', ()=&gt;{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#screen-result').classList.add('hide');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#screen-start').classList.remove('hide');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>$('#exportCsv').addEventListener('click', ()=&gt;{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const rows = [['number','selectedKana','correctKana','result']];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>ORDER.forEach(i=&gt;{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const q = POOL[i];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const selKana = q.selected!=null ? KANA[q.selected] : '';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const corKana = Number.isInteger(q.answer_index) ? KANA[q.answer_index] : '';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const res = q.result==null ? '' : (q.result?'OK':'NG');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>rows.push([q.number, selKana, corKana, res]);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const csv = rows.map(r=&gt;r.map(s=&gt;`"${String(s??'').replace(/"/g,'""')}"`).join(',')).join('\n');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const blob = new Blob([csv],{type:'text/csv'});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const a = document.createElement('a');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>a.href = URL.createObjectURL(blob);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>a.download = 'itpassport_result.csv';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>a.click();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>URL.revokeObjectURL(a.href);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>$('#backHome').addEventListener('click', ()=&gt;{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#screen-result').classList.add('hide');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>$('#screen-start').classList.remove('hide');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>function renderNav(){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>const nav = $('#nav');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>nav.innerHTML = '';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>ORDER.forEach((i,idx)=&gt;{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const q = POOL[i];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const b = document.createElement('button');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>b.className='btn small';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>b.style.padding='6px';</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>b.textContent = q.number ?? (i+1);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>if(q.result===true){ b.style.borderColor='#2e7d32'; b.style.background='rgba(46,125,50,.15)'; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>else if(q.result===false){ b.style.borderColor='#b23a3a'; b.style.background='rgba(178,58,58,.12)'; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>else if(q.selected!=null){ b.style.borderColor='#3a4a6b'; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>else { b.style.opacity='.75'; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>if(idx===CUR){ b.style.outline='2px solid var(--accent)'; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>b.addEventListener('click',()=&gt;{ CUR=idx; renderQuestion(); });</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>nav.appendChild(b);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>// Keyboard shortcuts</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>window.addEventListener('keydown', (e)=&gt;{</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if($('#screen-quiz').classList.contains('hide')) return;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>if(e.key&gt;='1' &amp;&amp; e.key&lt;='4'){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const i = parseInt(e.key,10)-1;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const idx = ORDER[CUR];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>const q = POOL[idx];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>if(q.choices &amp;&amp; Number.isInteger(q.answer_index)) selectChoice(i);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}else if(e.key==='n' || e.key==='N'){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>if(CUR&lt;ORDER.length-1){ CUR++; renderQuestion(); }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}else if(e.key==='b' || e.key==='B'){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">    </span>if(CUR&gt;0){ CUR--; renderQuestion(); }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b; min-height: 26.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>function escapeHtml(s){</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b><span class="Apple-converted-space">  </span>return String(s??'').replace(/[&amp;&lt;&gt;"']/g, m=&gt;({ '&amp;':'&amp;amp;','&lt;':'&amp;lt;','&gt;':'&amp;gt;','"':'&amp;quot;',"'":'&amp;#39;'}[m]));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>&lt;/script&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>&lt;/body&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 12.0px 0.0px; font: 22.0px 'Helvetica Neue'; color: #e0e5ef; -webkit-text-stroke: #e0e5ef; background-color: #11131b"><span class="s1"><b>&lt;/html&gt;</b></span></h1>
</body>
</html>
